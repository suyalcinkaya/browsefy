!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):e.koalazily=o()}(this,function(){return function(e){void 0===e&&(e={});var o=e.offset;void 0===o&&(o=100);var t=e.threshold;void 0===t&&(t=.01);var n=e.area,i=e.onLoad,a=e.useLoader;void 0===a&&(a=!1);var r=e.dataSelector;void 0===r&&(r="koalazily");var s=Array.from(document.querySelectorAll("[data-"+r+"]"));if(!("IntersectionObserver"in window))return s.forEach(d),s;function d(e){e.src=e.dataset[r],e.onload=function(){i&&i(e),delete e.dataset[r]}}s.forEach(function(e){var o=e.clientWidth||e.offsetWidth,t=e.clientHeight||e.offsetHeight;o&&t&&(e.src=Boolean(a)?"data:image/svg+xml,%3Csvg id='koalazily-loader' width='"+o+"px' height='"+t+"px' viewBox='0 0 "+o+" "+t+"' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cstyle type='text/css'%3E @keyframes koalazily-pulse %7B 0%25 %7Bbackground-position: 0%25 0%25; %7D 100%25 %7Bbackground-position: -135%25 0%25; %7D%0A%7D%0Asvg%23koalazily-loader %7B background: linear-gradient(-90deg, %23e0e0e0 0%25, %23f0f0f0 50%25, %23e0e0e0 100%25); background-size: 400%25 400%25; animation: koalazily-pulse 1.2s ease-in-out infinite;%0A%7D %3C/style%3E%3C/svg%3E":'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+o+" "+t+'"%3E%3C/svg%3E')});var l=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&(l.unobserve(e.target),d(e.target))})},{root:n,rootMargin:o+"px 0px",threshold:t});return s.forEach(function(e){return l.observe(e)}),s}});
//# sourceMappingURL=koalazily.umd.js.map
